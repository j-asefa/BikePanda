<!doctype html>
<html>

<head>
    <title>Speed vs Time Graph</title>
    <script src="./js/chart.js/dist/Chart.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
</head>
<body>
<canvas id="CDTRadarChart" width="200" height="230"></canvas>
        <script>
        var calData=[]; // average calorie Data array
        var timeData=[]; // average time Data array
        var disData=[]; // average distance Data array
            var testvar;//for temporary testing
                 $.ajax(
                {
                    url:'./get_user_data.php',
                    dataType:'json',
                    async: 'false',
                    type: 'get',
                    success: function(data){
                        //$('.testvar').text(testvar = data.jan.calories);
			calData.push(data.jan.calories);
                        calData.push(data.feb.calories);
                        calData.push(data.mar.calories);
                        calData.push(data.apr.calories);
			calData.push(data.may.calories);
                        calData.push(data.jun.calories);
                        calData.push(data.jul.calories);
			calData.push(data.aug.calories);
                        calData.push(data.sep.calories);
                        calData.push(data.oct.calories);
			calData.push(data.nov.calories);
                        calData.push(data.dec.calories);
	
			disData.push(data.jan.distance);
			disData.push(data.feb.distance);
                        disData.push(data.mar.distance);
                        disData.push(data.apr.distance);
			disData.push(data.may.distance);
                        disData.push(data.jun.distance);
                        disData.push(data.jul.distance);
			disData.push(data.aug.distance);
                        disData.push(data.sep.distance);
                        disData.push(data.oct.distance);
			disData.push(data.nov.distance);
                        disData.push(data.dec.distance);
                    },
                    error: function(){}
                });
setTimeout(function() {
	var configuration = {
	    type: 'radar',
	    data: {
		labels: [ "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
		datasets: [{
		    label: "Calories burned kcal",
		    borderColor: "rgb(21, 6, 135)",
		    pointBackgroundColor: "rgb(21, 6, 135)",
		    fill: true,
		    backgroundColor: "rgba(21, 6, 135, 0.2)",
		    lineTension: 0.1,
		    data: calData
		// }, {
		//     label: "Time spend biking (hours)",
		//     borderColor: "rgb(155, 0, 18)",
		//     pointBackgroundColor: "rgb(155, 0, 18)",
		//     fill: true,
		//     backgroundColor: "rgba(155, 0, 18, 0.2)",
		//     lineTension: 0.1,
		//     data: timeData
	}, {
	    label: "Distance biked (10*km) ",
	    borderColor: "rgb(28, 103, 3)",
	    pointBackgroundColor: "rgba(28, 103, 3)",
	    fill: true,
	    backgroundColor: "rgba(28, 103, 3, 0.2)",
	    lineTension: 0.1,
	    data: disData
	}]
    },
    options: {
	title:{
	    display: true,
	    text: "Name, Year",
	    fontColor: "rgb(0, 0, 0)"
	},
	legend: {
	    labels: {
		fullWidth: true,
		fontColor: "rgb(0, 0, 0)",
		padding: 50
	    }
	},
	scale: {
		ticks: {
			min: 10000,
			max: 50000
		},
	    pointLabels: {
		fontColor: "rgb(0, 0, 0)",
		fontSize: 14
	    }
	},
	animation: {
		duration: 900,
	}
    }
};
var ctx = document.getElementById("CDTRadarChart");
var myChart = new Chart(ctx, configuration);
}, 1000);
</script>
</body>
</html>
